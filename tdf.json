{
    "structs": {
        "tdf_struct_mcuboot_img_sem_ver": {
            "description": "MCUboot semantic versioning struct",
            "fields": [
                {"name": "major", "type": "uint8_t"},
                {"name": "minor", "type": "uint8_t"},
                {"name": "revision", "type": "uint16_t"},
                {"name": "build_num", "type": "uint32_t", "display": {"fmt": "hex", "digits": 8}}
            ]
        },
        "tdf_struct_xyz_16bit": {
            "description": "Generic 3-axis sensor reading",
            "fields": [
                {"name": "x", "type": "int16_t"},
                {"name": "y", "type": "int16_t"},
                {"name": "z", "type": "int16_t"}
            ]
        },
        "tdf_struct_gcs_location": {
            "description": "Geographic Coordinate System location",
            "fields": [
                {"name": "latitude", "type": "int32_t", "description": "Latitude degrees (scale 1e7)", "display": {"fmt": "float", "digits": 5, "postfix": "deg"}, "conversion": {"m": 0.0000001, "c": 0}},
                {"name": "longitude", "type": "int32_t", "description": "Longitude degrees (scale 1e7)", "display": {"fmt": "float", "digits": 5, "postfix": "deg"}, "conversion": {"m": 0.0000001, "c": 0}},
                {"name": "height", "type": "int32_t", "description": "Height above reference ellipsoid (mm)", "display": {"fmt": "float", "digits": 3, "postfix": "m"}, "conversion": {"m": 0.001, "c": 0}}
            ]
        },
        "tdf_struct_lte_cell_id_local": {
            "description": "LTE cell ID (Local)",
            "fields": [
                {"name": "eci", "type": "uint32_t", "description": "E-UTRAN Cell ID"},
                {"name": "tac", "type": "uint16_t", "description": "Tracking Area Code"}
            ]
        },
        "tdf_struct_lte_cell_id_global": {
            "description": "LTE cell ID (Global)",
            "fields": [
                {"name": "mcc", "type": "uint16_t", "description": "Mobile Country Code"},
                {"name": "mnc", "type": "uint16_t", "description": "Mobile Network Code"},
                {"name": "eci", "type": "uint32_t", "description": "E-UTRAN Cell ID"},
                {"name": "tac", "type": "uint16_t", "description": "Tracking Area Code"}
            ]
        }
    },
    "definitions": {
        "1": {
            "name": "ANNOUNCE",
            "description": "Common announcement packet",
            "fields": [
                {"name": "application", "type": "uint32_t", "description": "Unique application ID", "display": {"fmt": "hex", "digits": 8}},
                {"name": "version", "type": "struct tdf_struct_mcuboot_img_sem_ver", "description": "Running application version"},
                {"name": "kv_crc", "type": "uint32_t", "description": "Key-Value store reflect global CRC", "display": {"fmt": "hex", "digits": 8}},
                {"name": "blocks", "type": "uint32_t", "description": "Logger blocks written"},
                {"name": "uptime", "type": "uint32_t", "description": "Uptime in seconds"},
                {"name": "reboots", "type": "uint16_t", "description": "Reboot counter"},
                {"name": "flags", "type": "uint8_t", "description": "Flags (BIT(0) == SD blocks)", "display": {"fmt": "hex", "digits": 2}}
            ]
        },
        "2": {
            "name": "BATTERY_STATE",
            "description": "General battery state",
            "fields": [
                {"name": "voltage_mv", "type": "uint32_t", "description": "Battery voltage (milliVolts)", "display": {"postfix": "mV"}},
                {"name": "current_ua", "type": "int32_t", "description": "Battery current (microamps) (Negative = discharging)", "display": {"postfix": "uA"}},
                {"name": "soc", "type": "uint8_t", "description": "State of charge (percent)", "display": {"postfix": "%"}}
            ]
        },
        "3": {
            "name": "AMBIENT_TEMP_PRES_HUM",
            "description": "Ambient temperature, pressure & humidity",
            "fields": [
                {"name": "temperature", "type": "int32_t", "description": "Ambient temperature (millidegrees)", "display": {"fmt": "float", "digits": 3, "postfix": "deg"}, "conversion": {"m": 0.001, "c": 0}},
                {"name": "pressure", "type": "uint32_t", "description": "Atmospheric pressure (pascals)", "display": {"fmt": "float", "digits": 3, "postfix": "kPA"}, "conversion": {"m": 0.001, "c": 0} },
                {"name": "humidity", "type": "uint16_t", "description": "Relative humidity (centipercent)", "display": {"fmt": "float", "digits": 2, "postfix": "%"}, "conversion": {"m": 0.01, "c": 0}}
            ]
        },
        "4": {
            "name": "AMBIENT_TEMPERATURE",
            "description": "Ambient temperature",
            "fields": [
                {"name": "temperature", "type": "int32_t", "description": "Ambient temperature (millidegrees)", "display": {"fmt": "float", "digits": 3, "postfix": "deg"}, "conversion": {"m": 0.001, "c": 0}}
            ]
        },
        "5": {
            "name": "TIME_SYNC",
            "description": "Time synchronised to new source",
            "fields": [
                {"name": "source", "type": "uint8_t", "description": "Updated time source"},
                {"name": "shift", "type": "int32_t", "description": "Time shift (microseconds)", "display": {"postfix": "us"}, "conversion": {"m": 0.000001, "c": 0}}
            ]
        },
        "6": {
            "name": "REBOOT_INFO",
            "description": "Information pertaining to the previous reboot",
            "fields": [
                {"name": "reason", "type": "uint8_t", "description": "Reboot reason (enum infuse_reboot_reason)"},
                {"name": "hardware_flags", "type": "uint32_t", "description": "Hardware flags (hwinfo_get_reset_cause)", "display": {"fmt": "hex", "digits": 8}},
                {"name": "count", "type": "uint32_t", "description": "Reboot counter"},
                {"name": "uptime", "type": "uint32_t", "description": "Uptime before reboot (seconds)"},
                {"name": "param_1", "type": "uint32_t", "description": "Program counter/Watchdog Info/Other", "display": {"fmt": "hex", "digits": 8}},
                {"name": "param_2", "type": "uint32_t", "description": "Link Register/Watchdog Info/Other", "display": {"fmt": "hex", "digits": 8}},
                {"name": "thread", "type": "char", "num": 8, "description": "Running thread at reboot"}
            ]
        },
        "10": {
            "name": "ACC_2G",
            "description": "Accelerometer +-2G",
            "fields": [
                {"name": "sample", "type": "struct tdf_struct_xyz_16bit", "description": "Raw sample"}
            ]
        },
        "11": {
            "name": "ACC_4G",
            "description": "Accelerometer +-4G",
            "fields": [
                {"name": "sample", "type": "struct tdf_struct_xyz_16bit", "description": "Raw sample"}
            ]
        },
        "12": {
            "name": "ACC_8G",
            "description": "Accelerometer +-8G",
            "fields": [
                {"name": "sample", "type": "struct tdf_struct_xyz_16bit", "description": "Raw sample"}
            ]
        },
        "13": {
            "name": "ACC_16G",
            "description": "Accelerometer +-16G",
            "fields": [
                {"name": "sample", "type": "struct tdf_struct_xyz_16bit", "description": "Raw sample"}
            ]
        },
        "14": {
            "name": "GYR_125DPS",
            "description": "Gyroscope +-125 DPS",
            "fields": [
                {"name": "sample", "type": "struct tdf_struct_xyz_16bit", "description": "Raw sample"}
            ]
        },
        "15": {
            "name": "GYR_250DPS",
            "description": "Gyroscope +-250 DPS",
            "fields": [
                {"name": "sample", "type": "struct tdf_struct_xyz_16bit", "description": "Raw sample"}
            ]
        },
        "16": {
            "name": "GYR_500DPS",
            "description": "Gyroscope +-500 DPS",
            "fields": [
                {"name": "sample", "type": "struct tdf_struct_xyz_16bit", "description": "Raw sample"}
            ]
        },
        "17": {
            "name": "GYR_1000DPS",
            "description": "Gyroscope +-1000 DPS",
            "fields": [
                {"name": "sample", "type": "struct tdf_struct_xyz_16bit", "description": "Raw sample"}
            ]
        },
        "18": {
            "name": "GYR_2000DPS",
            "description": "Gyroscope +-2000 DPS",
            "fields": [
                {"name": "sample", "type": "struct tdf_struct_xyz_16bit", "description": "Raw sample"}
            ]
        },
        "19": {
            "name": "GCS_WGS84_LLHA",
            "description": "Geo-location (WGS-84) + accuracy",
            "fields": [
                {"name": "location", "type": "struct tdf_struct_gcs_location", "description": "WGS-84 referenced location"},
                {"name": "h_acc", "type": "int32_t", "description": "Horizontal accuracy (mm)", "display": {"fmt": "float", "digits": 3, "postfix": "m"}, "conversion": {"m": 0.001, "c": 0}},
                {"name": "v_acc", "type": "int32_t", "description": "Vertical accuracy (mm)", "display": {"fmt": "float", "digits": 3, "postfix": "m"}, "conversion": {"m": 0.001, "c": 0}}
            ]
        },
        "20": {
            "name": "UBX_NAV_PVT",
            "description": "u-blox GNSS NAV-PVT message",
            "fields": [
                {"name": "itow", "type": "uint32_t", "description": "GPS time of week of the navigation epoch"},
                {"name": "year", "type": "uint16_t", "description": "Year (UTC)"},
                {"name": "month", "type": "uint8_t", "description": "Month, range 1..12 (UTC)"},
                {"name": "day", "type": "uint8_t", "description": "Day of month, range 1..31 (UTC)"},
                {"name": "hour", "type": "uint8_t", "description": "Hour of day, range 0..23 (UTC)"},
                {"name": "min", "type": "uint8_t", "description": "Minute of hour, range 0..59 (UTC)"},
                {"name": "sec", "type": "uint8_t", "description": "Seconds of minute, range 0..60 (UTC)"},
                {"name": "valid", "type": "uint8_t", "description": "Validity flags", "display": {"fmt": "hex", "digits": 2}},
                {"name": "t_acc", "type": "uint32_t", "description": "Time accuracy estimate (UTC)", "display": {"postfix": "ns"}},
                {"name": "nano", "type": "int32_t", "description": "Fraction of second, range -1e9 .. 1e9 (UTC)", "display": {"postfix": "ns"}},
                {"name": "fix_type", "type": "uint8_t", "description": "GNSS fix Type"},
                {"name": "flags", "type": "uint8_t", "description": "Fix status flags", "display": {"fmt": "hex", "digits": 2}},
                {"name": "flags2", "type": "uint8_t", "description": "Additional flags", "display": {"fmt": "hex", "digits": 2}},
                {"name": "num_sv", "type": "uint8_t", "description": "Number of satellites used in Nav Solution"},
                {"name": "lon", "type": "int32_t", "description": "Longitude", "display": {"postfix": "deg"}, "conversion": {"m": 0.0000001, "c": 0}},
                {"name": "lat", "type": "int32_t", "description": "Latitude", "display": {"postfix": "deg"}, "conversion": {"m": 0.0000001, "c": 0}},
                {"name": "height", "type": "int32_t", "description": "Height above ellipsoid", "display": {"postfix": "m"}, "conversion": {"m": 0.001, "c": 0}},
                {"name": "h_msl", "type": "int32_t", "description": "Height above mean sea level", "display": {"postfix": "m"}, "conversion": {"m": 0.001, "c": 0}},
                {"name": "h_acc", "type": "uint32_t", "description": "Horizontal accuracy estimate", "display": {"postfix": "m"}, "conversion": {"m": 0.001, "c": 0}},
                {"name": "v_acc", "type": "uint32_t", "description": "Vertical accuracy estimate", "display": {"postfix": "m"}, "conversion": {"m": 0.001, "c": 0}},
                {"name": "vel_n", "type": "int32_t", "description": "NED north velocity", "display": {"postfix": "m/s"}, "conversion": {"m": 0.001, "c": 0}},
                {"name": "vel_e", "type": "int32_t", "description": "NED east velocity", "display": {"postfix": "m/s"}, "conversion": {"m": 0.001, "c": 0}},
                {"name": "vel_d", "type": "int32_t", "description": "NED down velocity", "display": {"postfix": "m/s"}, "conversion": {"m": 0.001, "c": 0}},
                {"name": "g_speed", "type": "int32_t", "description": "Ground Speed (2-D)", "display": {"postfix": "m/s"}, "conversion": {"m": 0.001, "c": 0}},
                {"name": "head_mot", "type": "int32_t", "description": "Heading of motion (2-D)", "display": {"postfix": "deg"}, "conversion": {"m": 0.00001, "c": 0}},
                {"name": "s_acc", "type": "uint32_t", "description": "Speed accuracy estimate", "display": {"postfix": "m/s"}, "conversion": {"m": 0.001, "c": 0}},
                {"name": "head_acc", "type": "uint32_t", "description": "Heading accuracy estimate (both motion and vehicle)", "display": {"postfix": "deg"}, "conversion": {"m": 0.00001, "c": 0}},
                {"name": "p_dop", "type": "uint16_t", "description": "Position DOP", "conversion": {"m": 0.01, "c": 0}},
                {"name": "flags3", "type": "uint16_t", "description": "Additional flags", "display": {"fmt": "hex", "digits": 4}},
                {"name": "reserved0", "type": "uint8_t", "num": 4, "description": "Reserved"},
                {"name": "head_veh", "type": "int32_t", "description": "Heading of vehicle (2-D)", "display": {"postfix": "deg"}, "conversion": {"m": 0.00001, "c": 0}},
                {"name": "mag_dec", "type": "int16_t", "description": "Magnetic declination", "display": {"postfix": "deg"}, "conversion": {"m": 0.01, "c": 0}},
                {"name": "mag_acc", "type": "uint16_t", "description": "Magnetic declination accuracy", "display": {"postfix": "deg"}, "conversion": {"m": 0.01, "c": 0}}
            ]
        },
        "21": {
            "name": "LTE_CONN_STATUS",
            "description": "Information on service cell and registration status",
            "fields": [
                {"name": "cell", "type": "struct tdf_struct_lte_cell_id_global", "description": "Global LTE cell identifier"},
                {"name": "earfcn", "type": "uint32_t", "description": "Evolved Absolute Radio Frequency Channel (E-ARFCN)"},
                {"name": "status", "type": "uint8_t", "description": "Registration status (See AT+CEREG)"},
                {"name": "tech", "type": "uint8_t", "description": "Access Technology (7 = LTE-M, 9 = NB-IoT)"},
                {"name": "rsrp", "type": "uint8_t", "description": "Reference signal received power (255 = Unknown)", "display": {"postfix": "dBm"}, "conversion": {"m": -1, "c": 0}},
                {"name": "rsrq", "type": "int8_t", "description": "Reference signal received quality (-128 = Unknown)", "display": {"postfix": "dB"}}
            ]
        },
        "22": {
            "name": "GLOBALSTAR_PKT",
            "description": "9 byte payload transmitted over the Globalstar Simplex network",
            "fields": [
                {"name": "payload", "type": "uint8_t", "num": 9, "description": "User data payload"}
            ]
        },
        "23": {
            "name": "ACC_MAGNITUDE_STD_DEV",
            "description": "Accelerometer magnitude standard deviation over a window",
            "fields": [
                {"name": "count", "type": "uint32_t", "description": "Number of samples in window"},
                {"name": "std_dev", "type": "uint32_t", "description": "Standard deviation in micro-g"}
            ]
        },
        "24": {
            "name": "ACTIVITY_METRIC",
            "description": "Generic activity metric",
            "fields": [
                {"name": "value", "type": "uint32_t", "description": "Activity metric value"}
            ]
        },
        "25": {
            "name": "ALGORITHM_OUTPUT",
            "description": "Generic activity metric",
            "fields": [
                {"name": "algorithm_id", "type": "uint32_t", "description": "Algorithm identifier", "display": {"fmt": "hex", "digits": 8}},
                {"name": "algorithm_version", "type": "uint16_t", "description": "Algorithm version number"},
                {"name": "output", "type": "uint8_t", "num": 0, "description": "Arbitrary algorithm output"}
            ]
        },
        "26": {
            "name": "RUNTIME_ERROR",
            "description": "Runtime error logging",
            "fields": [
                {"name": "error_id", "type": "uint32_t", "description": "Unique error identifier"},
                {"name": "error_ctx", "type": "uint32_t", "description": "Additional context about the error"}
            ]
        },
        "27": {
            "name": "CHARGER_EN_CONTROL",
            "description": "Battery charging enable state",
            "fields": [
                {"name": "enabled", "type": "uint8_t", "description": "Charger is enabled"}
            ]
        },
        "28": {
            "name": "GNSS_FIX_INFO",
            "description": "Metadata about a GNSS location fix",
            "fields": [
                {"name": "time_fix", "type": "uint16_t", "description": "Duration it took for accurate time knowledge (seconds)"},
                {"name": "location_fix", "type": "uint16_t", "description": "Duration it took for desired location knowledge (seconds)"},
                {"name": "num_sv", "type": "uint8_t", "description": "Number of satellite vehicles used in location fix"}
            ]
        },
        "100": {
            "name": "ARRAY_TYPE",
            "description": "Example array type",
            "fields": [
                {"name": "array", "type": "uint8_t", "num": 4, "description": "I am an array of length 4"}
            ]
        }
    }
}
